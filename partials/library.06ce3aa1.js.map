{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAAY,IAAI,E,WAAAC,SAEhBC,EAAcC,SAASC,cAAc,iBACrCC,EAAeF,SAASC,cAAc,oBACtCE,EAAYH,SAASC,cAAc,qBAEzCE,EAAUC,iBAAiB,UAE3B,SAAwBC,GACtBR,EAAUS,MAAQH,EAAUI,aAAaC,OACzCH,EAAEI,iBACFP,EAAaQ,UAAUC,OAAO,WAEN,KAApBd,EAAUS,OACZT,EACGe,oBACAC,MAAKC,IACJ,GAAIA,EAAMC,QAAQC,OAAS,EAMzB,OALAd,EAAaQ,UAAUC,OAAO,gBAE9BM,YAAW,KACTf,EAAaQ,UAAUQ,IAAI,UAAU,GACpC,KAGDJ,EAAMC,QAAQC,OAAS,IACzBd,EAAaQ,UAAUQ,IAAI,WAgBnCnB,EAAYoB,UAAY,GAE1BC,eAA0BC,GACxB,MAAMC,EAASC,SAASF,GAAMG,IAAI7B,EAAA8B,YAAYC,KAAK,IACnD3B,EAAYoB,UAAYG,C,CAhBhBK,CAAWb,EAAMC,SASzBZ,EAAUgB,UAAY,G,IAJjBS,OAAMC,GAAOC,QAAQD,I","sources":["src/js-blocks/input-search.js"],"sourcesContent":["import { renderCard } from './card-draw';\nimport ApiMovies from './fetch';\n\nconst apiMovies = new ApiMovies();\n\nconst galleryList = document.querySelector('.gallery-list');\nconst errorMessage = document.querySelector('.warning-message');\nconst formInput = document.querySelector('.js-search__input');\n\nformInput.addEventListener('submit', onSearchMovies);\n\nfunction onSearchMovies(e) {\n  apiMovies.query = formInput.ariaValueMax.trim();\n  e.preventDefault();\n  errorMessage.classList.remove('.hidden');\n\n  if (apiMovies.query !== '') {\n    apiMovies\n      .searchMovieByName()\n      .then(films => {\n        if (films.results.length < 1) {\n          errorMessage.classList.remove('.hidden');\n\n          setTimeout(() => {\n            errorMessage.classList.add('.hidden');\n          }, 3000);\n          return;\n        }\n        if (films.results.length > 1) {\n          errorMessage.classList.add('.hidden');\n\n          clearMovieCardContainer();\n\n          cardMarkup(films.results);\n\n          clearInput();\n        }\n      })\n      .catch(err => console(err));\n  }\n}\nfunction clearInput() {\n  formInput.innerHTML = '';\n}\nfunction clearMovieCardContainer() {\n  galleryList.innerHTML = '';\n}\nasync function cardMarkup(data) {\n  const markup = cardList(data).map(renderCard).join('');\n  galleryList.innerHTML = markup;\n}\n"],"names":["$2Sba5","parcelRequire","$ff609ec66d4217a2$var$apiMovies","default","$ff609ec66d4217a2$var$galleryList","document","querySelector","$ff609ec66d4217a2$var$errorMessage","$ff609ec66d4217a2$var$formInput","addEventListener","e","query","ariaValueMax","trim","preventDefault","classList","remove","searchMovieByName","then","films","results","length","setTimeout","add","innerHTML","async","data","markup","cardList","map","renderCard","join","$ff609ec66d4217a2$var$cardMarkup","catch","err","console"],"version":3,"file":"library.06ce3aa1.js.map"}