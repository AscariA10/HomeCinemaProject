function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequired7c6=i);var r=i("iJYdK"),s=i("iM3XI"),a=i("2Sba5"),c=i("c4xRF"),u=i("7Pc5D"),d=i("iQIUW"),l=i("ddbgU");i("hw1yE"),i("9TlK9"),i("5vpMz");var f={},m=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,h=/^0o[0-7]+$/i,p=parseInt,y="object"==typeof t&&t&&t.Object===Object&&t,w="object"==typeof self&&self&&self.Object===Object&&self,b=y||w||Function("return this")(),M=Object.prototype.toString,P=Math.max,F=Math.min,L=function(){return b.Date.now()};function T(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function S(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==M.call(e)}(e))return NaN;if(T(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=T(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(m,"");var n=v.test(e);return n||h.test(e)?p(e.slice(2),n?2:8):g.test(e)?NaN:+e}f=function(e,t,n){var o,i,r,s,a,c,u=0,d=!1,l=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=o,r=i;return o=i=void 0,u=t,s=e.apply(r,n)}function g(e){return u=e,a=setTimeout(h,t),d?m(e):s}function v(e){var n=e-c;return void 0===c||n>=t||n<0||l&&e-u>=r}function h(){var e=L();if(v(e))return p(e);a=setTimeout(h,function(e){var n=t-(e-c);return l?F(n,r-(e-u)):n}(e))}function p(e){return a=void 0,f&&o?m(e):(o=i=void 0,s)}function y(){var e=L(),n=v(e);if(o=arguments,i=this,c=e,n){if(void 0===a)return g(c);if(l)return a=setTimeout(h,t),m(c)}return void 0===a&&(a=setTimeout(h,t)),s}return t=S(t)||0,T(n)&&(d=!!n.leading,r=(l="maxWait"in n)?P(S(n.maxWait)||0,t):r,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==a&&clearTimeout(a),u=0,o=c=i=a=void 0},y.flush=function(){return void 0===a?s:p(L())},y};const R=new(0,u.LocalStorageEntry)("watchedMoviesStorage"),x=new(0,u.LocalStorageEntry)("queueMoviesStorage"),E=new(0,s.default),z=document.querySelector(".notification-wrapper"),N=document.querySelector("#watched"),O=document.querySelector("#queue");window.addEventListener("DOMContentLoaded",C),N.addEventListener("click",C),O.addEventListener("click",(async function(e){N.style.backgroundColor="transparent",O.style.backgroundColor="#ff6b01";const t=new k,n=new(0,c.default);if(!t.getMovies().length)return await t.renderRecommended(),void(window.onresize=f((function(){t.resize()&&t.renderRecommended()}),500));z.innerHTML="",n.setFunction(t.getMovies,t);const o=f((()=>{t.resize()&&(t.calculateTotalPages(),n.setFunction(t.getMovies,t))}),500);window.onresize=o}));class j{get pageNumber(){return this.page}set pageNumber(e){this.page=e}get totalPagesNumber(){return this.totalPages}resize(){const e=window.innerWidth;return e!==this.viewportWidth&&(this.viewportWidth=e,e<=767&&(this.countFilmsPerPage=4),e>=768&&(this.countFilmsPerPage=8),e>=1280&&(this.countFilmsPerPage=9),!0)}calculateTotalPages(){this.movies=this.getMoviesFromLocalStorage();const e=this.movies.length,t=Math.ceil(e/this.countFilmsPerPage);this.totalPages=t}getMovies(){return[...this.movies].splice((this.page-1)*this.countFilmsPerPage,this.countFilmsPerPage)}constructor(){e(r)(this,"renderRecommendedFilms",(async()=>{const e=await E.fetchTrendMovies();(0,a.cardList)([...e].splice(0,this.countFilmsPerPage)),(0,l.animScroll)()})),this.page=1,this.resize(),this.calculateTotalPages()}}class q extends j{getMoviesFromLocalStorage(){return R.getLocalStorageEntry()||[]}constructor(...t){super(...t),e(r)(this,"renderRecommended",(async()=>{d.Notify.info("You haven't added any movie to watched yet. Let's do it!");z.innerHTML='<span class="recommended-films">Recommended films</span>',this.renderRecommendedFilms()}))}}class k extends j{getMoviesFromLocalStorage(){return x.getLocalStorageEntry()||[]}constructor(...t){super(...t),e(r)(this,"renderRecommended",(async()=>{d.Notify.info("You haven't added any movie to queue yet. Let's do it!");z.innerHTML='<span class="recommended-films">Recommended films</span>',this.renderRecommendedFilms()}))}}async function C(e){O.style.backgroundColor="transparent",N.style.backgroundColor="#ff6b01";const t=new q,n=new(0,c.default);if(!t.getMovies().length)return await t.renderRecommended(),void(window.onresize=f((function(){t.resize()&&t.renderRecommended()}),500));z.innerHTML="",n.setFunction(t.getMovies,t);const o=f((()=>{t.resize()&&(t.calculateTotalPages(),n.setFunction(t.getMovies,t))}),500);window.onresize=o}
//# sourceMappingURL=library.7f1ecca8.js.map
