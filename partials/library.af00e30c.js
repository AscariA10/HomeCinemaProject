function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequired7c6=r);var i=r("iJYdK"),s=r("iM3XI"),a=r("2Sba5"),c=r("c4xRF"),u=r("7Pc5D"),d=r("iQIUW");r("hw1yE");var l={},f=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,v=/^0o[0-7]+$/i,p=parseInt,h="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,w=h||y||Function("return this")(),b=Object.prototype.toString,M=Math.max,P=Math.min,F=function(){return w.Date.now()};function L(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function T(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==b.call(e)}(e))return NaN;if(L(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=L(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var n=g.test(e);return n||v.test(e)?p(e.slice(2),n?2:8):m.test(e)?NaN:+e}l=function(e,t,n){var o,r,i,s,a,c,u=0,d=!1,l=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=o,i=r;return o=r=void 0,u=t,s=e.apply(i,n)}function g(e){return u=e,a=setTimeout(p,t),d?m(e):s}function v(e){var n=e-c;return void 0===c||n>=t||n<0||l&&e-u>=i}function p(){var e=F();if(v(e))return h(e);a=setTimeout(p,function(e){var n=t-(e-c);return l?P(n,i-(e-u)):n}(e))}function h(e){return a=void 0,f&&o?m(e):(o=r=void 0,s)}function y(){var e=F(),n=v(e);if(o=arguments,r=this,c=e,n){if(void 0===a)return g(c);if(l)return a=setTimeout(p,t),m(c)}return void 0===a&&(a=setTimeout(p,t)),s}return t=T(t)||0,L(n)&&(d=!!n.leading,i=(l="maxWait"in n)?M(T(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==a&&clearTimeout(a),u=0,o=c=r=a=void 0},y.flush=function(){return void 0===a?s:h(F())},y};const S=new(0,u.LocalStorageEntry)("watchedMoviesStorage"),R=new(0,u.LocalStorageEntry)("queueMoviesStorage"),x=new(0,s.default),E=document.querySelector(".notification-wrapper"),N=document.querySelector("#watched"),O=document.querySelector("#queue");window.addEventListener("DOMContentLoaded",k),N.addEventListener("click",k),O.addEventListener("click",(async function(e){N.style.backgroundColor="transparent",O.style.backgroundColor="#ff6b01";const t=new q,n=new(0,c.default);if(!t.getMovies().length)return await t.renderRecommended(),void(window.onresize=l((function(){t.resize(),t.renderRecommended()}),500));E.innerHTML="",n.setFunction(t.getMovies,t);const o=l((()=>{n.page=1,t.resize(),t.calculateTotalPages(),n.setFunction(t.getMovies,t)}),500);window.onresize=o}));class j{get pageNumber(){return this.page}set pageNumber(e){this.page=e}get totalPagesNumber(){return this.totalPages}resize(){const e=window.innerWidth;e<=767&&(this.countFilmsPerPage=4),e>=768&&(this.countFilmsPerPage=8),e>=1280&&(this.countFilmsPerPage=9)}calculateTotalPages(){this.movies=this.getMoviesFromLocalStorage();const e=this.movies.length,t=Math.ceil(e/this.countFilmsPerPage);this.totalPages=t}getMovies(){return[...this.movies].splice((this.page-1)*this.countFilmsPerPage,this.countFilmsPerPage)}constructor(){e(i)(this,"renderRecommendedFilms",(async()=>{const e=await x.fetchTrendMovies();(0,a.cardList)([...e].splice(0,this.countFilmsPerPage))})),this.page=1,this.resize(),this.calculateTotalPages()}}class z extends j{getMoviesFromLocalStorage(){return S.getLocalStorageEntry()||[]}constructor(...t){super(...t),e(i)(this,"renderRecommended",(async()=>{d.Notify.info("You haven't added any movie to watched yet. Let's do it!");E.innerHTML='<span class="recommended-films">Recommended films</span>',this.renderRecommendedFilms()}))}}class q extends j{getMoviesFromLocalStorage(){return R.getLocalStorageEntry()||[]}constructor(...t){super(...t),e(i)(this,"renderRecommended",(async()=>{d.Notify.info("You haven't added any movie to queue yet. Let's do it!");E.innerHTML='<span class="recommended-films">Recommended films</span>',this.renderRecommendedFilms()}))}}async function k(e){O.style.backgroundColor="transparent",N.style.backgroundColor="#ff6b01";const t=new z,n=new(0,c.default);if(!t.getMovies().length)return await t.renderRecommended(),void(window.onresize=l((function(){t.resize(),t.renderRecommended()}),500));E.innerHTML="",n.setFunction(t.getMovies,t);const o=l((()=>{n.page=1,t.resize(),t.calculateTotalPages(),n.setFunction(t.getMovies,t)}),500);window.onresize=o}
//# sourceMappingURL=library.af00e30c.js.map
